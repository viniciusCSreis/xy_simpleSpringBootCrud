(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(14),c=a.n(o),l=a(12),i=a(22),s=a(11),u=a(50);function d(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(l.a,{className:"navbar-brand",to:"/"},"Front React Zup"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"nav navbar-nav justify-content-center"},r.a.createElement("li",null,r.a.createElement(l.a,{activeClassName:"nav-item active",className:"nav-link",to:"/cidades"},"Cidades")),r.a.createElement("li",null,r.a.createElement(l.a,{activeClassName:"nav-item active",className:"nav-link",to:"/clientes"},"Clientes")))))}function m(){return r.a.createElement("div",null,r.a.createElement("div",{className:"full-size"},r.a.createElement(d,null),r.a.createElement("h1",{className:"welcome"},"Bem-vindo!")))}var p=a(6),h=a(9),g=a(8),f=a(5),v=a(10),b=a(3),E=a(0),A=a.n(E),y=a(51),C=a.n(y),O=a(52),N=a.n(O),k=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).clearPages(),a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"clearPages",value:function(){(0,this.props.dispatch)({type:"PAGES",pages:{homePage:1,lastPage:1,currentPage:1}})}},{key:"printPagination",value:function(){var e=this.props,t=e.reduceFooter,a=e.changeCurrentPage;if(null!=t&&null!=t.pages){var n=t.pages,o=n.currentPage,c=n.homePage,l=n.lastPage;return r.a.createElement("div",{className:"footer"},r.a.createElement("nav",{className:"footer"},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:o!==c?"page-item":"page-item disabled"},r.a.createElement("button",{onClick:o!==c?function(){return a(o-1)}:function(){},type:"button",className:"page-link _page-link",id:"prevPageBt",tabIndex:"-1"},r.a.createElement("img",{className:"arrows",src:C.a,alt:"Previous arrow"}))),o-1>c?r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{onClick:function(){return a(c)},type:"button",className:"page-link _page-link",id:"homePage"},c)):"",o-2>c?"...":"",o!==c?r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{onClick:function(){return a(o-1)},type:"button",className:"page-link _page-link",id:"prevPage"},o-1)):"",r.a.createElement("li",{className:"page-item active "},r.a.createElement("button",{type:"button",className:"_pagination-active page-link",href:"#"},o,r.a.createElement("span",{className:"sr-only"},"(current)"))),o!==l?r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{onClick:function(){return a(o+1)},type:"button",className:"page-link _page-link",id:"nextPage"},o+1)):"",o+2<l?"...":"",o+1<l?r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{onClick:function(){return a(l)},type:"button",className:"page-link _page-link",id:"lastPage"},l)):"",r.a.createElement("li",{className:o!==l?"page-item":"page-item disabled"},r.a.createElement("button",{onClick:o!==l?function(){return a(o+1)}:function(){},type:"button",className:"page-link _page-link",id:"nextPageBt"},r.a.createElement("img",{className:"arrows",src:N.a,alt:"Next arrow"}))))))}return""}},{key:"render",value:function(){return r.a.createElement("div",null,this.printPagination())}}]),t}(n.Component);k.defaultProps={reduceFooter:{}};var _=Object(s.b)(function(e){return{reduceFooter:e.reduceFooter}})(k);function j(e){var t=e.children;return r.a.createElement("table",{className:"table table-responsive table-bordered table-hover alinha container"},t)}function S(e){var t=e.title;return r.a.createElement("h1",{className:"MainTitle headerItem"},t)}var T=a(28),P=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).input_search="",a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"search",value:function(e){var t=this.props,a=t.search,n=t.dispatch;e.preventDefault(),a(this.input_search.value),n({type:"SEARCH",keyword:this.input_search.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"form-inline form-group SearchBox headerItem",onSubmit:function(t){return e.search(t)}},r.a.createElement("input",{autoComplete:"off",id:"input_search_city_name",className:"form-control SearchBox-input",type:"text",placeholder:"Pesquisar...",ref:function(t){e.input_search=t}}),r.a.createElement("button",{id:"submit_search_city_name",className:"btn btn-dark SearchIcon",type:"submit"}))}}]),t}(n.Component);var M=Object(T.a)(function(e){return{store:e.list}})(P);a(43);function L(e){var t=e.onClick,a=e.buttonClass,o=e.title;return r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"button",className:a,onClick:t},o))}function w(e){var t=e.click,a=e.title;return r.a.createElement(L,{buttonClass:"btn btn-success headerItem",onClick:t,title:"Adicionar ".concat(a)})}var I=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.reduceContentInfo,o=t.changeSize;this.pageSize="";var c="";return a.page_size&&(c=r.a.createElement(n.Fragment,null,"Exibindo",r.a.createElement("select",{className:"form-control custom-select",defaultValue:a.page_size,ref:function(t){e.pageSize=t},onChange:function(){return o(e.pageSize)}},r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"15"},"15"),r.a.createElement("option",{value:"20"},"20")),"de \xa0")),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"form-inline content-info"},c,a.totalElements?a.totalElements.sizePage:0,"\xa0 resultados encontrados."))}}]),t}(n.Component);I.defaultProps={reduceContentInfo:{}};var D=Object(s.b)(function(e){return{reduceContentInfo:e.reduceContentInfo,reduceLoading:e.reduceLoading}})(I);function R(e){var t=e.title,a=e.search,n=e.showModalAdd,o=e.changeSize;return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"row bottomline"},r.a.createElement(S,{title:t}),r.a.createElement(M,{search:a}),r.a.createElement(w,{title:t,type:"Adicionar",click:n})),r.a.createElement(D,{changeSize:o}))}var G=a(23),B=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).toggleMainModal=a.toggleMainModal.bind(Object(b.a)(Object(b.a)(a))),a.toggleMainModal(),a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidUpdate",value:function(){var e=document.querySelector(".modal-dialog input");e&&e.select()}},{key:"toggleMainModal",value:function(){(0,this.props.dispatch)({type:"TOGGLE_MAIN_MODAL",modalOpen:!1})}},{key:"createModal",value:function(){var e=this.props.reduceMainModal;return null!=e&&null!=e.modalContent?r.a.createElement(G.b,{isOpen:e.modalOpen,toggle:this.toggleMainModal},r.a.createElement(G.e,{toggle:this.toggleMainModal},e.modalContent.title),r.a.createElement(G.c,null,e.modalContent.body,e.modalContent.alerts),r.a.createElement(G.d,null,e.modalContent.footer,r.a.createElement(G.a,{id:"btClosseModal",color:"secondary",onClick:this.toggleMainModal},"Cancel"))):""}},{key:"render",value:function(){return r.a.createElement("div",null,this.createModal())}}]),t}(n.Component);var F=Object(s.b)(function(e){return{reduceMainModal:e.reduceMainModal}})(B),z=(a(75),a(54)),x=a.n(z);function U(){return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,className:"loading"},r.a.createElement("img",{src:x.a,className:"load-image",alt:"Loading..."}))))}function H(e){var t=e.onClick;return r.a.createElement(L,{onClick:t,buttonClass:"btn btn-info bt-table bt-edit",title:""})}function Z(e){var t=e.onClick;return r.a.createElement(L,{onClick:t,buttonClass:"btn btn-danger bt-table bt-delete",title:""})}function Q(e){var t=e.children;return r.a.createElement("tbody",null,t)}function V(e){var t=e.children;return r.a.createElement("thead",{className:"thead-dark"},t)}var J=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).init(),a.showModalAdd=a.showModalAdd.bind(Object(b.a)(Object(b.a)(a))),a.changePageSize=a.changePageSize.bind(Object(b.a)(Object(b.a)(a))),a.changeCurrentPage=a.changeCurrentPage.bind(Object(b.a)(Object(b.a)(a))),a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"init",value:function(){var e=this.props,t=e.dispatch,a=e.title,n=e.tHead;this.title=a,this.tHead=n,this.modalContent={title:"",body:"",footer:"",alerts:""},t({type:"PAGE_SIZE",page_size:"5"}),t({type:"SET_USER_PREFERENCES",userPrefs:"5"}),t({type:"SORT",sort_order:"asc"}),t({type:"TABLE_BODY",table_body:null})}},{key:"toggleModal",value:function(){var e=this.props.dispatch;e({type:"MAIN_MODAL_CONTENT",modalContent:this.modalContent}),e({type:"TOGGLE_MAIN_MODAL"})}},{key:"showModalAdd",value:function(){var e=this.props,t=e.form,a=e.add;this.modalContent={title:"Adicionar ".concat(this.title),body:t(a),footer:r.a.createElement("button",{id:"btAddModal",type:"button",className:"btn btn-success",onClick:a},"Adicionar")},this.toggleModal()}},{key:"showModalEdit",value:function(e){var t=this.props,a=t.form,n=t.edit;this.modalContent={title:"Editar ".concat(this.title),body:a(n,e),footer:r.a.createElement("button",{id:"btEditModal",type:"button",className:"btn btn-info",onClick:function(){return n(e)}},"Salvar")},this.toggleModal()}},{key:"showModalDelete",value:function(e){var t=this,a=this.props,n=a.delete;(0,a.loadMsgDelete)(e,function(a){t.modalContent={title:"Deletar ".concat(t.title),body:a,footer:r.a.createElement("button",{id:"btDeleteModal",type:"button",className:"btn bt-delete",onClick:function(){return n(e)}},"Remover")},t.toggleModal()})}},{key:"sort",value:function(){var e=this.props,t=e.dispatch,a=e.list;t({type:"SORT"}),a()}},{key:"changePageSize",value:function(e){var t=this.props,a=t.dispatch,n=t.list;a({type:"PAGE_SIZE",page_size:e.value}),a({type:"PAGES_CURRENT",currentPage:1}),a({type:"SET_USER_PREFERENCES",userPrefs:e.value}),n()}},{key:"changeCurrentPage",value:function(e){var t=this.props,a=t.dispatch,n=t.list;a({type:"PAGES_CURRENT",currentPage:e}),n()}},{key:"loadThead",value:function(){var e=this,t=this.props.tHead;return r.a.createElement("tr",null,r.a.createElement("th",{className:"headerCommon"}," # "),t.map(function(t,a){var n="th".concat(a);return 0===a?r.a.createElement("th",{className:t.className,key:n,onClick:e.sort.bind(e)},t.text):r.a.createElement("th",{className:t.className,key:n},t.text)}))}},{key:"loadTBody",value:function(){var e=this,t=this.props,a=t.reduceContentInfo,o=t.reduceFooter,c=t.reduceTable,l=0;try{l=a.page_size*(o.pages.currentPage-1)}catch(i){console.log()}return void 0!==c&&c.table_body?c.table_body.length>0?r.a.createElement(n.Fragment,null,c.table_body.map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a+1+l),t.data.map(function(e,a){var n="".concat(t.id," | ").concat(a);return r.a.createElement("td",{key:n},e)}),r.a.createElement("td",null,r.a.createElement(H,{onClick:function(){return e.showModalEdit(t.id)}})),r.a.createElement("td",null,r.a.createElement(Z,{onClick:function(){return e.showModalDelete(t.id)}})))})):r.a.createElement("tr",{key:"#"},r.a.createElement("td",{colSpan:5},"Nenhum Resultado Encontrado")):r.a.createElement("tr",{key:"#"},r.a.createElement("td",{colSpan:5},"Carregando..."))}},{key:"switchLoading",value:function(){var e=this.props.reduceLoading;return null!=e&&e.showLoading?r.a.createElement(U,null):r.a.createElement(Q,null,this.loadTBody())}},{key:"render",value:function(){var e=this.props.search;return r.a.createElement("div",null,r.a.createElement(R,{title:this.title,showModalAdd:this.showModalAdd,search:e,changeSize:this.changePageSize}),r.a.createElement(j,null,r.a.createElement(V,null,this.loadThead()),this.switchLoading()),r.a.createElement(_,{changeCurrentPage:this.changeCurrentPage}),r.a.createElement(F,null))}}]),t}(n.Component);J.defaultProps={dispatch:A.a.func,reduceLoading:!1,reduceContentInfo:{},reduceTable:{},reduceFooter:{}};var Y,q,W,K=Object(s.b)(function(e){return{reduceTable:e.reduceTable,reduceFooter:e.reduceFooter,reduceContentInfo:e.reduceContentInfo,reduceLoading:e.reduceLoading}})(J),X=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,null,[{key:"makeGetRequest",value:function(e){return fetch(e).then(function(e){return e.json()})}},{key:"makeChangeRequest",value:function(e,t,a){var n={method:t,body:JSON.stringify(a),headers:new Headers({"Content-type":"application/json"})};return fetch(e,n)}}]),e}(),$="https://customers-challenge-vinicius.herokuapp.com";function ee(e,t){Y=e,q=t}var te="list";function ae(e){te=e}function ne(e){W=e}var re=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,null,[{key:"validateFields",value:function(e){return""===e.value&&(this.callAlertModal("blank","CHANGE_MODAL_CONTENT",2e3),e.focus(),!0)}},{key:"callAlertModal",value:function(e,t,a){W.dispatch({type:"CHANGE_MODAL_CONTENT",showAlert:e}),setTimeout(function(){return W.dispatch({type:t,modalOpen:!1})},a)}},{key:"storeSizeSearch",value:function(e){var t={sizePage:e.length};W.dispatch({type:"TOTAL_ELEMENTS",totalElements:t})}},{key:"changeStorePages",value:function(e){var t={homePage:1,lastPage:e.page.totalPages,currentPage:e.page.number+1};W.dispatch({type:"PAGES",pages:t})}},{key:"storeSizePages",value:function(e){var t={sizePage:e.page.totalElements};W.dispatch({type:"TOTAL_ELEMENTS",totalElements:t})}},{key:"mountUrl",value:function(){var e=W.getState(),t=e.reduceFooter.pages.currentPage,a=e.reduceContentInfo.page_size,n=e.reduceTable.sort_order;return"page=".concat(t-1,"&size=").concat(a,"&sort=name,").concat(n)}},{key:"list",value:function(e){var t=this;W.dispatch({type:"LOADING",showLoading:!0}),te="list";var a="".concat($,"/").concat(e,"?").concat(this.mountUrl(e));return X.makeGetRequest(a).then(function(e){return t.changeStorePages(e),t.storeSizePages(e),e})}},{key:"reloadList",value:function(e){W.dispatch({type:"TABLE_BODY",table_body:e}),W.dispatch({type:"LOADING",showLoading:!1})}},{key:"removePageInfo",value:function(){te="search",W.dispatch({type:"PAGE_SIZE",page_size:null}),W.dispatch({type:"PAGES",page:null})}},{key:"emptySearch",value:function(e){var t=W.getState().reduceContentInfo.userPrefs;if(!e){return W.dispatch({type:"PAGES",pages:{homePage:1,lastPage:1,currentPage:1}}),W.dispatch({type:"PAGE_SIZE",page_size:t}),Y(),!0}return!1}},{key:"callTable",value:function(){if("search"===te){var e=W.getState().reduceSearch.search;q(e)}else Y()}},{key:"sendData",value:function(e,t,a){var n=this;X.makeChangeRequest(e,t,a).then(function(e){if(e.status>=400)throw new Error("status >= 400");n.callTable(),n.callAlertModal("success","TOGGLE_MAIN_MODAL",1500)}).catch(function(){n.callAlertModal("fail","TOGGLE_MAIN_MODAL",2e3)})}}]),e}(),oe=function(e){function t(e){var a;Object(p.a)(this,t);var n=(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).props.route;return a.title="Cidades",a.tHead=[{text:"Nome",className:"city sortHead"},{text:"Editar",className:"headerCommon"},{text:"Remover",className:"headerCommon"}],a.form=a.createFormBody.bind(Object(b.a)(Object(b.a)(a))),a.input_cidade_name="",a.cidade_name="",ae("list"),ee(t.listCity,a.searchCity.bind(Object(b.a)(Object(b.a)(a)))),ne(n.store),a.addCity=a.addCity.bind(Object(b.a)(Object(b.a)(a))),a.editCity=a.editCity.bind(Object(b.a)(Object(b.a)(a))),a.searchCity=a.searchCity.bind(Object(b.a)(Object(b.a)(a))),a.loadMsgDelete=a.loadMsgDelete.bind(Object(b.a)(Object(b.a)(a))),re.callTable=re.callTable.bind(Object(b.a)(Object(b.a)(a))),a}return Object(v.a)(t,e),Object(f.a)(t,null,[{key:"deleteCity",value:function(e){re.sendData(e,"DELETE")}},{key:"createNewLista",value:function(e){return e._embedded.cities.map(function(e){return{id:"".concat($,"/cities/").concat(e.id),data:[e.name]}})}},{key:"listCity",value:function(){re.list("cities").then(function(e){re.reloadList(t.createNewLista(e))})}}]),Object(f.a)(t,[{key:"componentDidMount",value:function(){re.callTable()}},{key:"loadPayloadCity",value:function(){return{name:this.input_cidade_name.value}}},{key:"addCity",value:function(){var e="".concat($,"/cities");re.validateFields(this.input_cidade_name)||re.sendData(e,"POST",this.loadPayloadCity())}},{key:"editCity",value:function(e){var t=e;re.validateFields(this.input_cidade_name)||re.sendData(t,"PUT",this.loadPayloadCity())}},{key:"searchCity",value:function(e){this.props.route.store.dispatch({type:"LOADING",showLoading:!0}),re.emptySearch(e)||(ae("search"),X.makeGetRequest("".concat($,"/cities/search/findByNameIgnoreCaseContaining?name=").concat(e,"&").concat(re.mountUrl())).then(function(e){if(0===e._embedded.cities.length)throw new Error("status >= 400");re.storeSizePages(e),re.changeStorePages(e),re.reloadList(t.createNewLista(e))}).catch(function(e){console.log(e),re.storeSizeSearch([]),re.changeStorePages({page:{number:0,size:5,totalPages:1,totalElements:0}}),re.reloadList([])}))}},{key:"createFormBody",value:function(e,t){var a=this;return void 0!==t?this.loadForm(t):this.cidade_name="",r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e(t)}},r.a.createElement("label",{htmlFor:"input_cidade_name"},"Cidade:",r.a.createElement("input",{autoComplete:"off",id:"input_cidade_name",className:"form-control",defaultValue:this.cidade_name,type:"text",placeholder:"Insira uma cidade",ref:function(e){a.input_cidade_name=e}})))}},{key:"loadForm",value:function(e){var t=this.props.route,a="";t.store.getState().reduceTable.table_body.forEach(function(t){if(t.id===e){var n=[t.data[0]];a=n[0]}}),this.cidade_name=a}},{key:"loadMsgDelete",value:function(e,t){for(var a="",n=e.length-1;n>=0&&"/"!==e.charAt(n);n-=1)a=e.charAt(n)+a;X.makeGetRequest("".concat($,"/customers/search/city/").concat(a,"?page=0&size=20&sort=name,asc")).then(function(e){if(console.log(e),0!==e._embedded.customers.length){var a="Caso voc\xea deletar est\xe1 Cidade os seguintes clientes v\xe3o ser deletado:";e._embedded.customers.forEach(function(e,t){return a+=0===t?"".concat(e.name):", ".concat(e.name)}),console.log(a),t(a)}else t("Realmente quer deleter essa City ? ")})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d,{currentPage:0}),r.a.createElement(K,{title:this.title,tHead:this.tHead,form:this.form,add:this.addCity,edit:this.editCity,delete:t.deleteCity,search:this.searchCity,list:re.callTable,loadMsgDelete:this.loadMsgDelete}))}}]),t}(n.Component),ce=a(56),le=a(55),ie=a.n(le),se=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).index=0,a.defaultInputProps={id:"states-autocomplete",className:"form-control"},a.okInputProps={id:"states-autocomplete",className:"form-control _border-green"},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"onSelect",value:function(e,t){(0,this.props.dispatch)({type:"AUTO_COMPLETE_STATE",autoCompleteState:{value:e,menu:[t],ok:!0,loading:!1}})}},{key:"onChange",value:function(e,t){var a=this,n=this.props,r=n.dispatch,o=n.search;r({type:"AUTO_COMPLETE_STATE",autoCompleteState:{value:t,menu:[],ok:!1,loading:!0}}),t&&o(t,function(e){var t=a.props.reduceAutoComplete;r({type:"AUTO_COMPLETE_STATE",autoCompleteState:{value:t.autoCompleteState.value,menu:e,ok:!1,loading:!1}})})}},{key:"renderItem",value:function(e,t){var a=this.props.reduceAutoComplete;return this.index>=a.autoCompleteState.menu.length&&(this.index=0),this.index+=1,t?r.a.createElement("div",{key:e.id,style:{background:"lightgray",border:"1px solid #dee2e6",padding:5}},e.name):r.a.createElement("div",{key:e.id,style:{background:this.index%2?"rgba(0,0,0,.05)":"",border:"1px solid #dee2e6",padding:5}},e.name)}},{key:"renderMenu",value:function(e,t){var a=this.props.reduceAutoComplete;return""===t?r.a.createElement("div",{className:"menu"},r.a.createElement("span",{className:"item"},"Digite o nome da cidade")):a.autoCompleteState.loading?r.a.createElement("div",{className:"menu"},r.a.createElement("span",{className:"item"},"Carregando...")):0===e.length?r.a.createElement("div",{className:"menu"},r.a.createElement("span",{className:"item"},"Nenhum resultado para",t)):r.a.createElement("div",{className:"menu"},e)}},{key:"render",value:function(){var e=this,t=this.props.reduceAutoComplete;return r.a.createElement("div",null,t&&t.autoCompleteState?r.a.createElement("div",{className:"_remove_inline"},r.a.createElement(ie.a,{value:t.autoCompleteState.value,inputProps:t.autoCompleteState.ok?this.okInputProps:this.defaultInputProps,items:t.autoCompleteState.menu,getItemValue:function(e){return e.name},onSelect:function(t,a){e.onSelect(t,a)},onChange:function(t,a){e.onChange(t,a)},renderItem:function(t,a){return e.renderItem(t,a)},renderMenu:function(t,a){return e.renderMenu(t,a)}})):r.a.createElement("div",null))}}]),t}(n.Component);var ue=Object(s.b)(function(e){return{reduceAutoComplete:e.reduceAutoComplete}})(se),de=function(e){function t(e){var a;Object(p.a)(this,t);var n=(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).props.route;return a.title="Clientes",a.tHead=[{text:"Nome",className:"sortHead customer"},{text:"Cidade",className:"customer"},{text:"Editar",className:"headerCommon"},{text:"Remover",className:"headerCommon"}],a.form=a.CreateFormBody.bind(Object(b.a)(Object(b.a)(a))),a.input_customer_name="",a.customer_name="",ae("list"),ee(t.listCustomers,a.searchCustomer.bind(Object(b.a)(Object(b.a)(a)))),ne(n.store),a.addCustomer=a.addCustomer.bind(Object(b.a)(Object(b.a)(a))),a.editCustomer=a.editCustomer.bind(Object(b.a)(Object(b.a)(a))),a.searchCustomer=a.searchCustomer.bind(Object(b.a)(Object(b.a)(a))),a.loadMsgDelete=a.loadMsgDelete.bind(Object(b.a)(Object(b.a)(a))),re.callTable=re.callTable.bind(Object(b.a)(Object(b.a)(a))),a}return Object(v.a)(t,e),Object(f.a)(t,null,[{key:"reloadNewLista",value:function(e){var t=[];e._embedded.customers.length||(re.reloadList(t),re.removePageInfo()),e._embedded.customers.forEach(function(e,a){var n="".concat($,"/customers/").concat(e.id),r=e.name,o=e.city.id,c=e.city.name;t[a]={id:n,cityId:o,data:[r,c]}}),re.reloadList(t)}},{key:"listCustomers",value:function(){re.list("customers").then(function(e){t.reloadNewLista(e)})}},{key:"deleteCustomer",value:function(e){re.sendData(e,"DELETE")}},{key:"loadCity",value:function(e,t){if(!e)return t([]);var a="".concat($,"/cities/search/findByNameIgnoreCaseContaining?name=").concat(e);return X.makeGetRequest(a).then(function(e){var a=e._embedded.cities.map(function(e){return{name:e.name,id:e.id}});return t(a)})}}]),Object(f.a)(t,[{key:"componentDidMount",value:function(){re.callTable()}},{key:"validateCityInput",value:function(){var e=this.props.route.store.getState().reduceAutoComplete.autoCompleteState.ok;return e||re.callAlertModal("blank","CHANGE_MODAL_CONTENT",2e3),e}},{key:"loadPayloadCustomer",value:function(){var e=this.props.route;return{name:this.input_customer_name.value,city:{id:e.store.getState().reduceAutoComplete.autoCompleteState.menu[0].id}}}},{key:"addCustomer",value:function(){var e="".concat($,"/customers");!re.validateFields(this.input_customer_name)&&this.validateCityInput()&&re.sendData(e,"POST",this.loadPayloadCustomer())}},{key:"editCustomer",value:function(e){!re.validateFields(this.input_customer_name)&&this.validateCityInput()&&re.sendData(e,"PUT",this.loadPayloadCustomer())}},{key:"searchCustomer",value:function(e){this.props.route.store.dispatch({type:"LOADING",showLoading:!0}),re.emptySearch(e)||(ae("search"),X.makeGetRequest("".concat($,"/customers/search/findByNameIgnoreCaseContaining?name=").concat(e,"&").concat(re.mountUrl())).then(function(e){if(0===e._embedded.customers.length)throw new Error("status >= 400");re.storeSizePages(e),t.reloadNewLista(e),re.changeStorePages(e)}).catch(function(){re.storeSizeSearch([]),re.changeStorePages({page:{number:0,size:5,totalPages:1,totalElements:0}}),re.reloadList([])}))}},{key:"CreateFormBody",value:function(e,a){var n=this;if(void 0!==a)this.loadForm(a);else{this.customer_name="";var o=this.props.route;o.store.dispatch({type:"AUTO_COMPLETE_STATE",autoCompleteState:{value:"",menu:[],ok:!1,loading:!1}}),o.store.dispatch({type:"AUTOCOMPLETE",customerCity:""})}return r.a.createElement("form",{className:"form-group",onSubmit:function(t){t.preventDefault(),e(a)}},r.a.createElement("label",{htmlFor:"input_customer_name"},"Cliente:",r.a.createElement("input",{autoComplete:"off",id:"input_customer_name",className:"form-control",defaultValue:this.customer_name,type:"text",placeholder:"Insira um cliente",ref:function(e){return n.input_customer_name=e,null}})),r.a.createElement("p",{className:"modal-label"},"Cidade:"),r.a.createElement(ue,{search:t.loadCity}))}},{key:"loadForm",value:function(e){var t,a=this,n="",r=this.props.route;r.store.getState().reduceTable.table_body.forEach(function(o){if(o.id===e){var c=Object(ce.a)(o.data,2);a.customer_name=c[0],n=c[1];var l=[o.cityId];t=l[0]}r.store.dispatch({type:"AUTO_COMPLETE_STATE",autoCompleteState:{value:n,menu:[{name:n,id:t}],ok:!0,loading:!1}})})}},{key:"loadMsgDelete",value:function(e,t){t("Voc\xea Realmente quer deletar este cliente ? ")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d,{currentPage:1}),r.a.createElement(K,{title:this.title,tHead:this.tHead,form:this.form,add:this.addCustomer,edit:this.editCustomer,delete:t.deleteCustomer,search:this.searchCustomer,list:re.callTable,loadMsgDelete:this.loadMsgDelete}))}}]),t}(n.Component);function me(){return r.a.createElement("footer",{className:"page-footer font-small blue"},r.a.createElement("div",{className:"footer-copyright text-center py-3"},"2018 Copyright:\xa0",r.a.createElement("a",{href:"https://github.com/brunomoreirazup/frontReactZup",rel:"noopener noreferrer",target:"_blank"},"Zup RW Internship Team")))}var pe=Object(i.combineReducers)({reduceSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SEARCH"===t.type){var a=Object.assign({},e);return a.search=t.keyword,a}return e},reduceFooter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("PAGES"===t.type){var a=Object.assign({},e);return a.pages=t.pages,a}return"PAGES_CURRENT"===t.type&&(Object.assign({},e).pages.currentPage=t.currentPage),e},reduceTable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("TABLE_BODY"===t.type){var a=Object.assign({},e);return a.table_body=t.table_body,a}if("SORT"===t.type){var n=Object.assign({},e);return t.sort_order?n.sort_order=t.sort_order:"asc"===n.sort_order?n.sort_order="desc":n.sort_order="asc",n}return e},reduceMainModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_MAIN_MODAL"===t.type){var a=Object.assign({},e);return void 0===t.modalOpen?a.modalOpen=!a.modalOpen:a.modalOpen=t.modalOpen,a}if("MAIN_MODAL_CONTENT"===t.type){var n=Object.assign({},e);return n.modalContent=t.modalContent,n}if("CHANGE_MODAL_CONTENT"===t.type){var o="";"success"===t.showAlert&&(o=r.a.createElement("div",{className:"alert alert-info",role:"alert"},"Opera\xe7\xe3o realizada com sucesso")),"fail"===t.showAlert&&(o=r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o!")),"blank"===t.showAlert&&(o=r.a.createElement("div",{className:"alert alert-warning",role:"alert"},"Preencha todos os campos"));var c=Object.assign({},e);return c.modalContent.alerts=o,c}return e},reduceContentInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("PAGE_SIZE"===t.type){var a=Object.assign({},e);return a.page_size=t.page_size,a}if("TOTAL_ELEMENTS"===t.type){var n=Object.assign({},e);return n.totalElements=t.totalElements,n}if("SET_USER_PREFERENCES"===t.type){var r=Object.assign({},e);return r.userPrefs=t.userPrefs,r}return e},reduceAutoComplete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("AUTO_COMPLETE_STATE"===t.type){var a=Object.assign({},e);return a.autoCompleteState=t.autoCompleteState,a}return e},reduceLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("LOADING"===t.type){var a=Object.assign({},e);return void 0===t.showLoading?a.showLoading=!a.showLoading:a.showLoading=t.showLoading,a}return e}}),he=Object(i.createStore)(pe,Object(u.composeWithDevTools)());var ge=function(){return r.a.createElement("div",{className:"Site"},r.a.createElement("div",{className:"Site-content"},r.a.createElement(s.a,{store:he},r.a.createElement(l.c,{history:l.d},r.a.createElement(l.b,{path:"/",component:m}),r.a.createElement(l.b,{path:"/cidades",component:oe,store:he}),r.a.createElement(l.b,{path:"/clientes",component:de,store:he})))),r.a.createElement(me,null))};a(80),a(82),a(84),a(86),a(87),a(89),a(91),a(93),a(95),a(97),a(99),a(101),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,a){},51:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiChkOODmy/QlkAAAAhUlEQVRo3u3ZsQmEQBgF4cE2tAlBMLVTe7gKBEswvCbsYE01ES9YHifzN/DNotmDejewsDFVFG5vZKdQWLN8Yc7yX9os38nLy8vLy8vLy8vLy/8932d5+NTmm8Srfrn4J4j/hCaYYIIJJphgggkmmGCCCS9ICAyX14TIdHtOCI3X8HC+PwB9RDf2I4xANgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0xMC0yNVQxNDo1Njo1NyswMjowMA6JoNwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMTAtMjVUMTQ6NTY6NTcrMDI6MDB/1BhgAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},52:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiChkOOQoUNlkzAAAAfklEQVRo3u3ZuwmAMBRG4YNr6BKCYJtN3cEJBEewdAk3iBuk8fE359aB84Wku9CewsHGRGx2KpWLOQVYqFlCz5kmDBIkSJAgQYIECRIkSJAg4SFhTBPW9sEu4/vv/pEnCH9C8+bNmzdv3rx58+bNm3954ovL+Oo2vrz+fH1/A+oBN/ZMmeHYAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTEwLTI1VDE0OjU3OjEwKzAyOjAwoKb7lgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMC0yNVQxNDo1NzoxMCswMjowMNH7QyoAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},54:function(e,t,a){e.exports=a.p+"static/media/loading.bcb2fdbf.gif"},57:function(e,t,a){e.exports=a(103)},75:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[57,2,1]]]);
//# sourceMappingURL=main.adeceb6d.chunk.js.map